Expression Line
---------------

This input area is where the expression to be evaluated is entered
(see `Expressions`_ for syntax).
The expression can be entered
by touching the calculator-style keys on the screen,
via a full on-screen keyboard (tap this line to open it),
or via an external keyboard.
Additionally, the `navigation buttons`_ can be used to edit the expression.

The result of evaluating the expression is displayed on the `result line`_.
It's kept up-to-date as the expression is being entered and/or edited.

Enter Key
~~~~~~~~~

Typing this key completes the expression.
The expression is added to the `expression history`_,
the `expression line`_ is cleared,
and the final result is displayed on the `result line`_.
If there's an error
then the cursor is placed at the error's location
and the message is displayed on the `result line`_.

Touching the **=** key on any of the `keypads`_ performs this same action.

Shortcuts
~~~~~~~~~

the following actions can be performed by typing shortcuts on a keyboard:

.. include:: expression-shortcuts.rst

Expression History
~~~~~~~~~~~~~~~~~~

A history of successfully completed expressions is maintained.
An expression is considered complete
if there are no syntax errors within it when
either the **=** key on any of the `keypads`_ is pressed
or when the `Enter key`_ is typed.

* Pressing the `Up`_ key moves backward through the history.
* Pressing the `Down`_ key moves forward through the history.
* Long pressing the `Up`_ key moves to the earliest entry in the history.
* Long pressing the `Down`_ key moves to the most recent entry in the history.

Any history entry can be edited and recompleted,
although the history entries themselves are never actually changed.
Edits to an entry are lost when moving away (up or down) from it
without recompleting it.
Recompleting a history entry adds it as a new entry.

